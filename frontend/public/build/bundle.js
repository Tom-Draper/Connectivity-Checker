var app=function(){"use strict";function t(){}function n(t){return t()}function e(){return Object.create(null)}function l(t){t.forEach(n)}function r(t){return"function"==typeof t}function o(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}let c,s;function i(t,n){return c||(c=document.createElement("a")),c.href=n,t===c.href}function a(t,n){t.appendChild(n)}function u(t,n,e){t.insertBefore(n,e||null)}function d(t){t.parentNode.removeChild(t)}function f(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function m(t){return document.createElement(t)}function p(t){return document.createTextNode(t)}function g(){return p(" ")}function h(){return p("")}function $(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function v(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}function y(t){s=t}function w(t){(function(){if(!s)throw new Error("Function called outside component initialization");return s})().$$.on_mount.push(t)}const b=[],x=[],k=[],_=[],z=Promise.resolve();let E=!1;function D(t){k.push(t)}const A=new Set;let C=0;function P(){const t=s;do{for(;C<b.length;){const t=b[C];C++,y(t),N(t.$$)}for(y(null),b.length=0,C=0;x.length;)x.pop()();for(let t=0;t<k.length;t+=1){const n=k[t];A.has(n)||(A.add(n),n())}k.length=0}while(b.length);for(;_.length;)_.pop()();E=!1,A.clear(),y(t)}function N(t){if(null!==t.fragment){t.update(),l(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(D)}}const S=new Set;let j;function B(){j={r:0,c:[],p:j}}function T(){j.r||l(j.c),j=j.p}function O(t,n){t&&t.i&&(S.delete(t),t.i(n))}function q(t,n,e,l){if(t&&t.o){if(S.has(t))return;S.add(t),j.c.push((()=>{S.delete(t),l&&(e&&t.d(1),l())})),t.o(n)}}function F(t){t&&t.c()}function L(t,e,o,c){const{fragment:s,on_mount:i,on_destroy:a,after_update:u}=t.$$;s&&s.m(e,o),c||D((()=>{const e=i.map(n).filter(r);a?a.push(...e):l(e),t.$$.on_mount=[]})),u.forEach(D)}function G(t,n){const e=t.$$;null!==e.fragment&&(l(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function M(t,n){-1===t.$$.dirty[0]&&(b.push(t),E||(E=!0,z.then(P)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function U(n,r,o,c,i,a,u,f=[-1]){const m=s;y(n);const p=n.$$={fragment:null,ctx:null,props:a,update:t,not_equal:i,bound:e(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(r.context||(m?m.$$.context:[])),callbacks:e(),dirty:f,skip_bound:!1,root:r.target||m.$$.root};u&&u(p.root);let g=!1;if(p.ctx=o?o(n,r.props||{},((t,e,...l)=>{const r=l.length?l[0]:e;return p.ctx&&i(p.ctx[t],p.ctx[t]=r)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](r),g&&M(n,t)),e})):[],p.update(),g=!0,l(p.before_update),p.fragment=!!c&&c(p.ctx),r.target){if(r.hydrate){const t=function(t){return Array.from(t.childNodes)}(r.target);p.fragment&&p.fragment.l(t),t.forEach(d)}else p.fragment&&p.fragment.c();r.intro&&O(n.$$.fragment),L(n,r.target,r.anchor,r.customElement),P()}y(m)}class H{$destroy(){G(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function I(n){let e,l;return{c(){e=m("div"),l=m("div"),$(l,"id","plotDiv"),$(e,"id","plotly")},m(t,r){u(t,e,r),a(e,l),n[2](l)},p:t,i:t,o:t,d(t){t&&d(e),n[2](null)}}}function J(t,n,e){let l,{graphData:r}=n;return w((()=>{new Plotly.newPlot(l,[r],{title:!1,height:200,margin:{r:60,l:0,t:20,b:20,pad:5},colorway:["#c9c9c9"],yaxis:{side:"right",ticksuffix:"ms",color:"#949494"},xaxis:{color:"white"}},{showSendToCloud:!1,staticPlot:!0})})),t.$$set=t=>{"graphData"in t&&e(1,r=t.graphData)},[l,r,function(t){x[t?"unshift":"push"]((()=>{l=t,e(0,l)}))}]}class K extends H{constructor(t){super(),U(this,t,J,I,o,{graphData:1})}}function Q(t,n,e){const l=t.slice();return l[2]=n[e],l[4]=e,l}function R(t){let n,e,l,r,o,c,s,i,h,y,w,b,x,k,_,z,E,D,A=t[0].name+"",C=t[0].uptime+"";function P(t,n){return t[0].live?W:V}let N=P(t),S=N(t),j=t[0].pings,F=[];for(let n=0;n<j.length;n+=1)F[n]=et(Q(t,j,n));let L=null!=t[1]&&lt(t);return{c(){n=m("div"),e=m("a"),l=p(A),o=g(),c=m("div"),S.c(),s=g(),i=m("div"),h=p("Uptime: "),y=p(C),w=p("%"),b=g(),x=m("div");for(let t=0;t<F.length;t+=1)F[t].c();k=g(),_=m("div"),_.textContent="Last 6 days",z=g(),E=m("div"),L&&L.c(),$(e,"class","name svelte-29crzl"),$(e,"href",r="https://"+t[0].name),$(i,"class","uptime-text"),$(c,"class","uptime svelte-29crzl"),$(x,"class","pings svelte-29crzl"),$(_,"class","last-hours svelte-29crzl"),$(E,"class","ping-graph svelte-29crzl"),$(n,"class","pings-container svelte-29crzl")},m(t,r){u(t,n,r),a(n,e),a(e,l),a(n,o),a(n,c),S.m(c,null),a(c,s),a(c,i),a(i,h),a(i,y),a(i,w),a(n,b),a(n,x);for(let t=0;t<F.length;t+=1)F[t].m(x,null);a(n,k),a(n,_),a(n,z),a(n,E),L&&L.m(E,null),D=!0},p(t,n){if((!D||1&n)&&A!==(A=t[0].name+"")&&v(l,A),(!D||1&n&&r!==(r="https://"+t[0].name))&&$(e,"href",r),N!==(N=P(t))&&(S.d(1),S=N(t),S&&(S.c(),S.m(c,s))),(!D||1&n)&&C!==(C=t[0].uptime+"")&&v(y,C),1&n){let e;for(j=t[0].pings,e=0;e<j.length;e+=1){const l=Q(t,j,e);F[e]?F[e].p(l,n):(F[e]=et(l),F[e].c(),F[e].m(x,null))}for(;e<F.length;e+=1)F[e].d(1);F.length=j.length}null!=t[1]?L?(L.p(t,n),2&n&&O(L,1)):(L=lt(t),L.c(),O(L,1),L.m(E,null)):L&&(B(),q(L,1,1,(()=>{L=null})),T())},i(t){D||(O(L),D=!0)},o(t){q(L),D=!1},d(t){t&&d(n),S.d(),f(F,t),L&&L.d()}}}function V(t){let n,e;return{c(){n=m("img"),$(n,"class","tick svelte-29crzl"),i(n.src,e="./img/smallcross.png")||$(n,"src","./img/smallcross.png"),$(n,"alt","")},m(t,e){u(t,n,e)},d(t){t&&d(n)}}}function W(t){let n,e;return{c(){n=m("img"),$(n,"class","tick svelte-29crzl"),i(n.src,e="./img/smalltick.png")||$(n,"src","./img/smalltick.png"),$(n,"alt","")},m(t,e){u(t,n,e)},d(t){t&&d(n)}}}function X(t){let n;return{c(){n=m("div"),$(n,"class","ping empty svelte-29crzl")},m(t,e){u(t,n,e)},d(t){t&&d(n)}}}function Y(t){let n;return{c(){n=m("div"),$(n,"class","ping failed svelte-29crzl")},m(t,e){u(t,n,e)},d(t){t&&d(n)}}}function Z(t){let n;let e=function(t,n){return t[4]%48<24?nt:tt}(t),l=e(t);return{c(){l.c(),n=h()},m(t,e){l.m(t,e),u(t,n,e)},d(t){l.d(t),t&&d(n)}}}function tt(t){let n;return{c(){n=m("div"),$(n,"class","ping ok-2 svelte-29crzl")},m(t,e){u(t,n,e)},d(t){t&&d(n)}}}function nt(t){let n;return{c(){n=m("div"),$(n,"class","ping ok-1 svelte-29crzl")},m(t,e){u(t,n,e)},d(t){t&&d(n)}}}function et(t){let n;function e(t,n){return t[2].response>0?Z:0==t[2].response?Y:X}let l=e(t),r=l(t);return{c(){r.c(),n=h()},m(t,e){r.m(t,e),u(t,n,e)},p(t,o){l!==(l=e(t))&&(r.d(1),r=l(t),r&&(r.c(),r.m(n.parentNode,n)))},d(t){r.d(t),t&&d(n)}}}function lt(t){let n,e;return n=new K({props:{graphData:t[1]}}),{c(){F(n.$$.fragment)},m(t,l){L(n,t,l),e=!0},p(t,e){const l={};2&e&&(l.graphData=t[1]),n.$set(l)},i(t){e||(O(n.$$.fragment,t),e=!0)},o(t){q(n.$$.fragment,t),e=!1},d(t){G(n,t)}}}function rt(t){let n,e,l=null!=t[0]&&R(t);return{c(){n=m("main"),l&&l.c()},m(t,r){u(t,n,r),l&&l.m(n,null),e=!0},p(t,[e]){null!=t[0]?l?(l.p(t,e),1&e&&O(l,1)):(l=R(t),l.c(),O(l,1),l.m(n,null)):l&&(B(),q(l,1,1,(()=>{l=null})),T())},i(t){e||(O(l),e=!0)},o(t){q(l),e=!1},d(t){t&&d(n),l&&l.d()}}}function ot(t,n,e){let l,{data:r}=n;return w((async function(){e(1,l=function(t){let n=new Array(t.length).fill(1).map(((t,n)=>n+1)),e=[];for(let n=0;n<t.length;n++)null==t[n].loss||t[n].response<=0?e.push(0):e.push(t[n].response/1e6);return{x:n,y:e,type:"bar"}}(r.pings))})),t.$$set=t=>{"data"in t&&e(0,r=t.data)},[r,l]}class ct extends H{constructor(t){super(),U(this,t,ot,rt,o,{data:0})}}function st(t,n,e){const l=t.slice();return l[2]=n[e],l[4]=e,l}function it(t){let n,e,l,r,o,c,s,i=t[0].time+"";let y=function(t,n){return t[1]()?at:ut}(t),w=y(t),b=t[0].data,x=[];for(let n=0;n<b.length;n+=1)x[n]=dt(st(t,b,n));const k=t=>q(x[t],1,1,(()=>{x[t]=null}));return{c(){n=m("div"),w.c(),e=g(),l=m("div"),r=p(i),o=g();for(let t=0;t<x.length;t+=1)x[t].c();c=h(),$(l,"class","last-updated svelte-1ha45ww"),$(n,"class","header svelte-1ha45ww")},m(t,i){u(t,n,i),w.m(n,null),a(n,e),a(n,l),a(l,r),u(t,o,i);for(let n=0;n<x.length;n+=1)x[n].m(t,i);u(t,c,i),s=!0},p(t,n){if((!s||1&n)&&i!==(i=t[0].time+"")&&v(r,i),1&n){let e;for(b=t[0].data,e=0;e<b.length;e+=1){const l=st(t,b,e);x[e]?(x[e].p(l,n),O(x[e],1)):(x[e]=dt(l),x[e].c(),O(x[e],1),x[e].m(c.parentNode,c))}for(B(),e=b.length;e<x.length;e+=1)k(e);T()}},i(t){if(!s){for(let t=0;t<b.length;t+=1)O(x[t]);s=!0}},o(t){x=x.filter(Boolean);for(let t=0;t<x.length;t+=1)q(x[t]);s=!1},d(t){t&&d(n),w.d(),t&&d(o),f(x,t),t&&d(c)}}}function at(t){let n,e,l,r;return{c(){n=m("img"),l=g(),r=m("h2"),r.textContent="All services are online",$(n,"class","big-tick svelte-1ha45ww"),i(n.src,e="./img/bigtick.png")||$(n,"src","./img/bigtick.png"),$(n,"alt",""),$(r,"class","status svelte-1ha45ww")},m(t,e){u(t,n,e),u(t,l,e),u(t,r,e)},d(t){t&&d(n),t&&d(l),t&&d(r)}}}function ut(t){let n,e,l,r;return{c(){n=m("img"),l=g(),r=m("h2"),r.textContent="Services are down",$(n,"class","big-cross svelte-1ha45ww"),i(n.src,e="./img/bigcross.png")||$(n,"src","./img/bigcross.png"),$(n,"alt",""),$(r,"class","status svelte-1ha45ww")},m(t,e){u(t,n,e),u(t,l,e),u(t,r,e)},d(t){t&&d(n),t&&d(l),t&&d(r)}}}function dt(t){let n,e,l,r;return e=new ct({props:{data:t[0].data[t[4]]}}),{c(){n=m("div"),F(e.$$.fragment),l=g(),$(n,"class","card svelte-1ha45ww")},m(t,o){u(t,n,o),L(e,n,null),a(n,l),r=!0},p(t,n){const l={};1&n&&(l.data=t[0].data[t[4]]),e.$set(l)},i(t){r||(O(e.$$.fragment,t),r=!0)},o(t){q(e.$$.fragment,t),r=!1},d(t){t&&d(n),G(e)}}}function ft(t){let n,e,l,r=null!=t[0]&&it(t);return{c(){n=m("main"),e=m("div"),r&&r.c(),$(e,"class","content svelte-1ha45ww"),$(n,"class","svelte-1ha45ww")},m(t,o){u(t,n,o),a(n,e),r&&r.m(e,null),l=!0},p(t,[n]){null!=t[0]?r?(r.p(t,n),1&n&&O(r,1)):(r=it(t),r.c(),O(r,1),r.m(e,null)):r&&(B(),q(r,1,1,(()=>{r=null})),T())},i(t){l||(O(r),l=!0)},o(t){q(r),l=!1},d(t){t&&d(n),r&&r.d()}}}function mt(t){let n=0;for(let e=0;e<t.length;e++)t[e].response>0&&(n+=1);return(n/t.length*100).toFixed(1)}function pt(t,n,e){function l(){if(null==r)return!1;for(let t=0;t<r.data.length;t++){let n=r.data[t].pings;if(n[n.length-1].response<=0)return!1}return!0}let r;return w((async function(){(async function(t){const n=await fetch(t);return await n.json()})("https://connectivity-checker.herokuapp.com/data").then((t=>{e(0,r=function(t){for(let n=0;n<t.data.length;n++){let e=t.data[n].pings;t.data[n].uptime=mt(e),t.data[n].live=e[e.length-1].response>0,e.length>144&&(e=e.slice(e.length-144));let l=Array(144-e.length).fill({loss:null,response:null,time:null});t.data[n].pings=l.concat(e)}return t.time=new Date(t.time).toLocaleDateString("en-GB",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",hour12:!1,minute:"2-digit",second:"2-digit"}),t}(t)),console.log(r)})).then((()=>{var t;l()||((t=document.querySelector("link[rel~='icon']"))||((t=document.createElement("link")).rel="icon",document.getElementsByTagName("head")[0].appendChild(t)),t.href="/img/faviconcross.png")}))})),document.documentElement.style.setProperty("--background","white"),document.documentElement.style.setProperty("--card","white"),document.documentElement.style.setProperty("--text","black"),[r,l]}return new class extends H{constructor(t){super(),U(this,t,pt,ft,o,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
