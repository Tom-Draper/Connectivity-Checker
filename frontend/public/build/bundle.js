var app=function(){"use strict";function t(){}function n(t){return t()}function e(){return Object.create(null)}function r(t){t.forEach(n)}function l(t){return"function"==typeof t}function c(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}let o,s;function a(t,n){return o||(o=document.createElement("a")),o.href=n,t===o.href}function i(t,n){t.appendChild(n)}function u(t,n,e){t.insertBefore(n,e||null)}function d(t){t.parentNode.removeChild(t)}function f(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function p(t){return document.createElement(t)}function m(t){return document.createTextNode(t)}function g(){return m(" ")}function h(){return m("")}function $(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function v(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}function y(t,n,e,r){null===e?t.style.removeProperty(n):t.style.setProperty(n,e,r?"important":"")}function w(t){s=t}function b(t){(function(){if(!s)throw new Error("Function called outside component initialization");return s})().$$.on_mount.push(t)}const x=[],k=[],_=[],z=[],E=Promise.resolve();let D=!1;function P(t){_.push(t)}const A=new Set;let C=0;function N(){const t=s;do{for(;C<x.length;){const t=x[C];C++,w(t),S(t.$$)}for(w(null),x.length=0,C=0;k.length;)k.pop()();for(let t=0;t<_.length;t+=1){const n=_[t];A.has(n)||(A.add(n),n())}_.length=0}while(x.length);for(;z.length;)z.pop()();D=!1,A.clear(),w(t)}function S(t){if(null!==t.fragment){t.update(),r(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(P)}}const j=new Set;let B;function T(){B={r:0,c:[],p:B}}function O(){B.r||r(B.c),B=B.p}function q(t,n){t&&t.i&&(j.delete(t),t.i(n))}function F(t,n,e,r){if(t&&t.o){if(j.has(t))return;j.add(t),B.c.push((()=>{j.delete(t),r&&(e&&t.d(1),r())})),t.o(n)}}function L(t){t&&t.c()}function G(t,e,c,o){const{fragment:s,on_mount:a,on_destroy:i,after_update:u}=t.$$;s&&s.m(e,c),o||P((()=>{const e=a.map(n).filter(l);i?i.push(...e):r(e),t.$$.on_mount=[]})),u.forEach(P)}function M(t,n){const e=t.$$;null!==e.fragment&&(r(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function U(t,n){-1===t.$$.dirty[0]&&(x.push(t),D||(D=!0,E.then(N)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function H(n,l,c,o,a,i,u,f=[-1]){const p=s;w(n);const m=n.$$={fragment:null,ctx:null,props:i,update:t,not_equal:a,bound:e(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(l.context||(p?p.$$.context:[])),callbacks:e(),dirty:f,skip_bound:!1,root:l.target||p.$$.root};u&&u(m.root);let g=!1;if(m.ctx=c?c(n,l.props||{},((t,e,...r)=>{const l=r.length?r[0]:e;return m.ctx&&a(m.ctx[t],m.ctx[t]=l)&&(!m.skip_bound&&m.bound[t]&&m.bound[t](l),g&&U(n,t)),e})):[],m.update(),g=!0,r(m.before_update),m.fragment=!!o&&o(m.ctx),l.target){if(l.hydrate){const t=function(t){return Array.from(t.childNodes)}(l.target);m.fragment&&m.fragment.l(t),t.forEach(d)}else m.fragment&&m.fragment.c();l.intro&&q(n.$$.fragment),G(n,l.target,l.anchor,l.customElement),N()}w(p)}class I{$destroy(){M(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function J(n){let e,r;return{c(){e=p("div"),r=p("div"),$(r,"id","plotDiv"),$(e,"id","plotly")},m(t,l){u(t,e,l),i(e,r),n[2](r)},p:t,i:t,o:t,d(t){t&&d(e),n[2](null)}}}function K(t,n,e){let r,{graphData:l}=n;return b((()=>{new Plotly.newPlot(r,[l],{title:!1,height:200,margin:{r:60,l:0,t:20,b:20,pad:5},colorway:["#c9c9c9"],yaxis:{side:"right",ticksuffix:"ms",color:"#949494"},xaxis:{color:"white"}},{showSendToCloud:!1,staticPlot:!0})})),t.$$set=t=>{"graphData"in t&&e(1,l=t.graphData)},[r,l,function(t){k[t?"unshift":"push"]((()=>{r=t,e(0,r)}))}]}class Q extends I{constructor(t){super(),H(this,t,K,J,c,{graphData:1})}}function R(t,n,e){const r=t.slice();return r[2]=n[e],r[4]=e,r}function V(t){let n,e,r,l,c,o,s,a,h,y,w,b,x,k,_,z,E,D,P=t[0].name+"",A=t[0].uptime+"";function C(t,n){return t[0].live?X:W}let N=C(t),S=N(t),j=t[0].pings,B=[];for(let n=0;n<j.length;n+=1)B[n]=rt(R(t,j,n));let L=null!=t[1]&&lt(t);return{c(){n=p("div"),e=p("a"),r=m(P),c=g(),o=p("div"),S.c(),s=g(),a=p("div"),h=m("Uptime: "),y=m(A),w=m("%"),b=g(),x=p("div");for(let t=0;t<B.length;t+=1)B[t].c();k=g(),_=p("div"),_.textContent="Last 6 days",z=g(),E=p("div"),L&&L.c(),$(e,"class","name svelte-29crzl"),$(e,"href",l="https://"+t[0].name),$(a,"class","uptime-text"),$(o,"class","uptime svelte-29crzl"),$(x,"class","pings svelte-29crzl"),$(_,"class","last-hours svelte-29crzl"),$(E,"class","ping-graph svelte-29crzl"),$(n,"class","pings-container svelte-29crzl")},m(t,l){u(t,n,l),i(n,e),i(e,r),i(n,c),i(n,o),S.m(o,null),i(o,s),i(o,a),i(a,h),i(a,y),i(a,w),i(n,b),i(n,x);for(let t=0;t<B.length;t+=1)B[t].m(x,null);i(n,k),i(n,_),i(n,z),i(n,E),L&&L.m(E,null),D=!0},p(t,n){if((!D||1&n)&&P!==(P=t[0].name+"")&&v(r,P),(!D||1&n&&l!==(l="https://"+t[0].name))&&$(e,"href",l),N!==(N=C(t))&&(S.d(1),S=N(t),S&&(S.c(),S.m(o,s))),(!D||1&n)&&A!==(A=t[0].uptime+"")&&v(y,A),1&n){let e;for(j=t[0].pings,e=0;e<j.length;e+=1){const r=R(t,j,e);B[e]?B[e].p(r,n):(B[e]=rt(r),B[e].c(),B[e].m(x,null))}for(;e<B.length;e+=1)B[e].d(1);B.length=j.length}null!=t[1]?L?(L.p(t,n),2&n&&q(L,1)):(L=lt(t),L.c(),q(L,1),L.m(E,null)):L&&(T(),F(L,1,1,(()=>{L=null})),O())},i(t){D||(q(L),D=!0)},o(t){F(L),D=!1},d(t){t&&d(n),S.d(),f(B,t),L&&L.d()}}}function W(t){let n,e;return{c(){n=p("img"),$(n,"class","tick svelte-29crzl"),a(n.src,e="./img/smallcross.png")||$(n,"src","./img/smallcross.png"),$(n,"alt","")},m(t,e){u(t,n,e)},d(t){t&&d(n)}}}function X(t){let n,e;return{c(){n=p("img"),$(n,"class","tick svelte-29crzl"),a(n.src,e="./img/smalltick.png")||$(n,"src","./img/smalltick.png"),$(n,"alt","")},m(t,e){u(t,n,e)},d(t){t&&d(n)}}}function Y(t){let n;return{c(){n=p("div"),$(n,"class","ping empty svelte-29crzl")},m(t,e){u(t,n,e)},d(t){t&&d(n)}}}function Z(t){let n;return{c(){n=p("div"),$(n,"class","ping failed svelte-29crzl")},m(t,e){u(t,n,e)},d(t){t&&d(n)}}}function tt(t){let n;let e=function(t,n){return t[4]%48<24?et:nt}(t),r=e(t);return{c(){r.c(),n=h()},m(t,e){r.m(t,e),u(t,n,e)},d(t){r.d(t),t&&d(n)}}}function nt(t){let n;return{c(){n=p("div"),$(n,"class","ping ok-2 svelte-29crzl")},m(t,e){u(t,n,e)},d(t){t&&d(n)}}}function et(t){let n;return{c(){n=p("div"),$(n,"class","ping ok-1 svelte-29crzl")},m(t,e){u(t,n,e)},d(t){t&&d(n)}}}function rt(t){let n;function e(t,n){return t[2].response>0?tt:0==t[2].response?Z:Y}let r=e(t),l=r(t);return{c(){l.c(),n=h()},m(t,e){l.m(t,e),u(t,n,e)},p(t,c){r!==(r=e(t))&&(l.d(1),l=r(t),l&&(l.c(),l.m(n.parentNode,n)))},d(t){l.d(t),t&&d(n)}}}function lt(t){let n,e;return n=new Q({props:{graphData:t[1]}}),{c(){L(n.$$.fragment)},m(t,r){G(n,t,r),e=!0},p(t,e){const r={};2&e&&(r.graphData=t[1]),n.$set(r)},i(t){e||(q(n.$$.fragment,t),e=!0)},o(t){F(n.$$.fragment,t),e=!1},d(t){M(n,t)}}}function ct(t){let n,e,r=null!=t[0]&&V(t);return{c(){n=p("main"),r&&r.c()},m(t,l){u(t,n,l),r&&r.m(n,null),e=!0},p(t,[e]){null!=t[0]?r?(r.p(t,e),1&e&&q(r,1)):(r=V(t),r.c(),q(r,1),r.m(n,null)):r&&(T(),F(r,1,1,(()=>{r=null})),O())},i(t){e||(q(r),e=!0)},o(t){F(r),e=!1},d(t){t&&d(n),r&&r.d()}}}function ot(t,n,e){let r,{data:l}=n;return b((async function(){e(1,r=function(t){let n=new Array(t.length).fill(1).map(((t,n)=>n+1)),e=[];for(let n=0;n<t.length;n++)null==t[n].loss||t[n].response<=0?e.push(0):e.push(t[n].response/1e6);return{x:n,y:e,type:"bar"}}(l.pings))})),t.$$set=t=>{"data"in t&&e(0,l=t.data)},[l,r]}class st extends I{constructor(t){super(),H(this,t,ot,ct,c,{data:0})}}function at(t,n,e){const r=t.slice();return r[3]=n[e],r[5]=e,r}function it(t){let n,e,r,l,c,o,s,a=t[0].time+"";function y(t,n){return t[1]?dt:ut}let w=y(t),b=w(t),x=t[0].data,k=[];for(let n=0;n<x.length;n+=1)k[n]=ft(at(t,x,n));const _=t=>F(k[t],1,1,(()=>{k[t]=null}));return{c(){n=p("div"),b.c(),e=g(),r=p("div"),l=m(a),c=g();for(let t=0;t<k.length;t+=1)k[t].c();o=h(),$(r,"class","last-updated svelte-1ha45ww"),$(n,"class","header svelte-1ha45ww")},m(t,a){u(t,n,a),b.m(n,null),i(n,e),i(n,r),i(r,l),u(t,c,a);for(let n=0;n<k.length;n+=1)k[n].m(t,a);u(t,o,a),s=!0},p(t,r){if(w!==(w=y(t))&&(b.d(1),b=w(t),b&&(b.c(),b.m(n,e))),(!s||1&r)&&a!==(a=t[0].time+"")&&v(l,a),1&r){let n;for(x=t[0].data,n=0;n<x.length;n+=1){const e=at(t,x,n);k[n]?(k[n].p(e,r),q(k[n],1)):(k[n]=ft(e),k[n].c(),q(k[n],1),k[n].m(o.parentNode,o))}for(T(),n=x.length;n<k.length;n+=1)_(n);O()}},i(t){if(!s){for(let t=0;t<x.length;t+=1)q(k[t]);s=!0}},o(t){k=k.filter(Boolean);for(let t=0;t<k.length;t+=1)F(k[t]);s=!1},d(t){t&&d(n),b.d(),t&&d(c),f(k,t),t&&d(o)}}}function ut(t){let n,e,r,l;return{c(){n=p("img"),r=g(),l=p("h2"),l.textContent="All services are online",$(n,"class","big-tick svelte-1ha45ww"),a(n.src,e="./img/bigtick.png")||$(n,"src","./img/bigtick.png"),$(n,"alt",""),$(l,"class","status svelte-1ha45ww")},m(t,e){u(t,n,e),u(t,r,e),u(t,l,e)},d(t){t&&d(n),t&&d(r),t&&d(l)}}}function dt(t){let n,e,r,l;return{c(){n=p("img"),r=g(),l=p("h2"),l.textContent="Services are down",$(n,"class","big-cross svelte-1ha45ww"),a(n.src,e="./img/bigcross.png")||$(n,"src","./img/bigcross.png"),$(n,"alt",""),$(l,"class","status svelte-1ha45ww")},m(t,e){u(t,n,e),u(t,r,e),u(t,l,e)},d(t){t&&d(n),t&&d(r),t&&d(l)}}}function ft(t){let n,e,r,l;return e=new st({props:{data:t[0].data[t[5]]}}),{c(){n=p("div"),L(e.$$.fragment),r=g(),$(n,"class","card svelte-1ha45ww")},m(t,c){u(t,n,c),G(e,n,null),i(n,r),l=!0},p(t,n){const r={};1&n&&(r.data=t[0].data[t[5]]),e.$set(r)},i(t){l||(q(e.$$.fragment,t),l=!0)},o(t){F(e.$$.fragment,t),l=!1},d(t){t&&d(n),M(e)}}}function pt(t){let n,e,r,l=null!=t[0]&&it(t);return{c(){n=p("main"),e=p("div"),l&&l.c(),$(e,"class","content svelte-1ha45ww"),y(n,"background",(t[1]?"#ed8282":"#a7ffa7")+" transparent, transparent, transparent, transparent, transparent, transparent, transparent"),$(n,"class","svelte-1ha45ww")},m(t,c){u(t,n,c),i(n,e),l&&l.m(e,null),r=!0},p(t,[c]){null!=t[0]?l?(l.p(t,c),1&c&&q(l,1)):(l=it(t),l.c(),q(l,1),l.m(e,null)):l&&(T(),F(l,1,1,(()=>{l=null})),O()),(!r||2&c)&&y(n,"background",(t[1]?"#ed8282":"#a7ffa7")+" transparent, transparent, transparent, transparent, transparent, transparent, transparent")},i(t){r||(q(l),r=!0)},o(t){F(l),r=!1},d(t){t&&d(n),l&&l.d()}}}function mt(t){let n=0;for(let e=0;e<t.length;e++)t[e].response>0&&(n+=1);return(n/t.length*100).toFixed(1)}function gt(t,n,e){let r;b((async function(){(async function(t){const n=await fetch(t);return await n.json()})("https://connectivity-checker.vercel.app/api/data").then((t=>{e(0,r=function(t){for(let n=0;n<t.data.length;n++){let e=t.data[n].pings;t.data[n].uptime=mt(e),t.data[n].live=e[e.length-1].response>0,e.length>144&&(e=e.slice(e.length-144));let r=Array(144-e.length).fill({loss:null,response:null,time:null});t.data[n].pings=r.concat(e)}return t.time=new Date(t.time).toLocaleDateString("en-GB",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",hour12:!1,minute:"2-digit",second:"2-digit"}),t}(t))})).then((()=>{var t;e(1,l=!function(){if(null==r)return!1;for(let t=0;t<r.data.length;t++){let n=r.data[t].pings;if(n[n.length-1].response<=0)return!1}return!0}()),l&&((t=document.querySelector("link[rel~='icon']"))||((t=document.createElement("link")).rel="icon",document.getElementsByTagName("head")[0].appendChild(t)),t.href="/img/faviconcross.png")}))}));let l=!1;return document.documentElement.style.setProperty("--background","white"),document.documentElement.style.setProperty("--card","white"),document.documentElement.style.setProperty("--text","black"),[r,l]}return new class extends I{constructor(t){super(),H(this,t,gt,pt,c,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
